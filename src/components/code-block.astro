---
import { Code } from "astro/components";
const { tabs } = Astro.props;
let activeTab = Object.keys(tabs)[0];
---

<style>
  .tabs {
    display: flex;
    border-bottom: 2px solid #e2e8f0;
    margin-bottom: 1rem;
  }
  .tab {
    padding: 0.5rem 1rem;
    cursor: pointer;
    border-bottom: 2px solid transparent;
  }
  .tab.active {
    border-bottom-color: #3b82f6;
    color: #3b82f6;
  }
  .code-block {
    background-color: #f9fafb;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
  }
</style>

<div>
  <!-- Tab Navigation -->
  <div class="tabs">
    {
      Object.keys(tabs).map((lang) => (
        <div
          class={`tab ${activeTab === lang ? 'active' : ''}`}
          onClick={() => (activeTab = lang)}
        >
          {lang}
        </div>
      ))
    }
  </div>

  <!-- Code Block -->
  <div class="code-block">
    <Code client:only="react" lang={activeTab as any} code={tabs[activeTab]} />
  </div>
</div>
